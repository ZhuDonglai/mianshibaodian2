import{i as r,_ as f,d as w,o as v,c as T,a as d,b as i,w as l,F as _,e as a}from"./index-58898c43.js";import{E as s,c as b,a as V,b as k,d as I}from"./el-table-column-e980d996.js";import{E as C,a as E,b as F,c as B}from"./el-form-item-7c29d327.js";function $(){return r({url:"/api/interviewType/all",method:"get"})}function N(e){return r({url:`/api/interviewType/one?id=${e}`,method:"get"})}function P(e){return r({url:"/api/interviewType/add",method:"post",data:e})}function U(e){return r({url:"/api/interviewType/edit",method:"post",data:e})}function z(e){return r({url:`/api/interviewType/delete?id=${e}`,method:"get"})}const A=w({data(){return{interviewTypes:[],interviewType:{id:0,typeName:""},searchId:null,dialogFormVisible:!1}},mounted(){this.getInterviewTypesByPage()},methods:{search(){if(this.searchId==null||this.searchId==""){alert("请输入用户编号后查询");return}N(this.searchId).then(e=>{console.log(e),this.interviewTypes=[],this.interviewTypes.push(e.data.interviewType)}).catch(e=>{console.log(e)})},research(){this.searchId=null,this.getInterviewTypesByPage()},toAdd(){this.dialogFormVisible=!0,this.interviewType={id:0,typeName:""}},save(){const e=this.interviewType;e.id==0?P(e).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getInterviewTypesByPage(),s(t.msg);else return s(t.msg),!1}).catch(t=>{s("网络错误联系管理员")}):U(e).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getInterviewTypesByPage(),s(t.msg);else return s(t.msg),!1})},del(e){z(e).then(t=>{if(t.success)this.getInterviewTypesByPage();else return console.log(t.msg),!1}).catch(t=>{})},check(e){this.dialogFormVisible1=!0,this.analysis=e},toEdit(e){this.dialogFormVisible=!0,this.interviewType=b(e)},getInterviewTypesByPage(){$().then(e=>{console.log(e),this.interviewTypes=e.data.interviewTypes,this.page=e.data.page,console.log("***",this.interviewTypes)}).catch(e=>{console.log(e)})}}}),D={style:{"margin-top":"10px"}},O={style:{width:"95%",margin:"0 auto"}},L={style:{width:"95%",margin:"0 auto"}},M={class:"dialog-footer"};function W(e,t,j,q,G,H){const m=F,u=C,n=E,p=I,h=V,c=B,y=k;return v(),T(_,null,[d("div",D,[d("div",O,[i(u,{label:"类型编号","label-width":80,style:{display:"inline-flex","margin-right":"10px"}},{default:l(()=>[i(m,{modelValue:e.searchId,"onUpdate:modelValue":t[0]||(t[0]=o=>e.searchId=o),placeholder:"请输入类型编号"},null,8,["modelValue"])]),_:1}),i(n,{type:"primary",onClick:e.search},{default:l(()=>[a("查询")]),_:1},8,["onClick"])]),d("div",L,[i(n,{type:"info",onClick:e.research},{default:l(()=>[a("重置")]),_:1},8,["onClick"]),i(n,{type:"success",onClick:e.toAdd},{default:l(()=>[a("添加 ")]),_:1},8,["onClick"])]),i(h,{data:e.interviewTypes,style:{width:"95%",margin:"0 auto",height:"800px"}},{default:l(()=>[a("】 "),i(p,{prop:"id",label:"编号",width:"100"}),i(p,{prop:"typeName",label:"类型名",width:"300"}),i(p,{fixed:"right",label:"操作",width:"120"},{default:l(o=>[i(n,{link:"",type:"warning",size:"small",onClick:g=>e.toEdit(o.row)},{default:l(()=>[a("更新")]),_:2},1032,["onClick"]),i(n,{link:"",type:"danger",size:"small",onClick:g=>e.del(o.row.id)},{default:l(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),i(y,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[3]||(t[3]=o=>e.dialogFormVisible=o),title:"添加题目类型"},{footer:l(()=>[d("span",M,[i(n,{onClick:t[2]||(t[2]=o=>e.dialogFormVisible=!1)},{default:l(()=>[a("取消")]),_:1}),i(n,{type:"primary",onClick:e.save},{default:l(()=>[a(" 保存 ")]),_:1},8,["onClick"])])]),default:l(()=>[i(c,{model:e.interview},{default:l(()=>[i(u,{label:"类型名","label-width":e.formLabelWidth},{default:l(()=>[i(m,{modelValue:e.interviewType.typeName,"onUpdate:modelValue":t[1]||(t[1]=o=>e.interviewType.typeName=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const R=f(A,[["render",W]]);export{R as default};
